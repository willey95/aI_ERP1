# XEM System - Page Mock-ups

이 문서는 새로 구현된 4개 페이지의 시각적 디자인과 레이아웃을 설명합니다.

## 디자인 시스템 기반

모든 페이지는 [DESIGN_SYSTEM.md](DESIGN_SYSTEM.md)에 정의된 e-book 스타일을 따릅니다:
- **컬러**: Warm Gray (#FAFAF9 ~ #1C1917)
- **타이포그래피**: Pretendard Variable (한글/영문), JetBrains Mono (숫자)
- **효과**: 글래스모피즘, 미세한 그림자, 부드러운 전환
- **레이아웃**: 12컬럼 그리드, 반응형 디자인

---

## 1. 시나리오 분석 페이지 (SimulationPage)

**경로**: `/simulation/:projectId`

### 페이지 구조

```
┌─────────────────────────────────────────────────────────────┐
│ 📊 시나리오 분석                    [비교 분석 모드 전환]   │
│ 다양한 변수를 조정하여 프로젝트 결과를 예측합니다            │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ ⚙️ 시나리오 변수                                            │
├─────────────┬─────────────┬─────────────┬─────────────────┤
│ 시나리오     │ 분양시기     │ 분양률       │ 공사비 변동     │
│ 이름         │ 지연(개월)   │ (%)          │ (%)             │
│ [시나리오 1] │ [0]          │ [80]         │ [0.0]           │
│                            │ 금리 변동 (%p)                 │
│                            │ [0.0]                          │
├──────────────────────────────────────────────────────────────┤
│ [시뮬레이션 실행] [비교 목록에 추가] [시뮬레이션 저장]      │
└─────────────────────────────────────────────────────────────┘

┌──────┬──────┬──────┬──────┐
│ ROI  │ 수익 │ 최저 │ 시나 │
│15.2% │ 180억│ 현금 │ 리오 │
│      │      │-50억 │  1   │
└──────┴──────┴──────┴──────┘

┌─────────────────────────────────────────────────────────────┐
│ 📈 월별 현금 흐름 (36개월)                                   │
│                                                              │
│  수익 ─────                                                 │
│  비용 ─────                                                 │
│  누적현금 ─────                                             │
│                                                              │
│     ╱╲                                                      │
│    ╱  ╲          ╱─────                                    │
│   ╱    ╲        ╱                                          │
│  ╱      ╲──────╱                                           │
│ ╱                                                          │
│─────────────────────────────────────────────────────────── │
│ 1월  6월  12월  18월  24월  30월  36월                      │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ 🤖 AI 분석 및 권고사항                                       │
├─────────────────────────────────────────────────────────────┤
│ ⚠️ WARNING │ 현금흐름 │ 현금부족 주의                        │
│ 12개월차에 50억원의 현금부족이 예상됩니다.                   │
│ → 운전자금 확보를 권장합니다.                                │
├─────────────────────────────────────────────────────────────┤
│ ✅ SUCCESS │ 수익성 │ 우수한 투자수익률                       │
│ 예상 ROI가 15.20%로 우수합니다.                             │
│ → 현재 계획을 유지하세요.                                    │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ 💾 저장된 시뮬레이션                                         │
├─────────────┬─────────────┬─────────────────────────────────┤
│ 보수적 시나 │ 중립 시나   │ 낙관적 시나리오                 │
│ ROI: 12.5% │ ROI: 15.2%  │ ROI: 18.7%                      │
│ 수익: 150억 │ 수익: 180억 │ 수익: 225억                     │
│ 2025-11-15 │ 2025-11-16  │ 2025-11-16                      │
└─────────────┴─────────────┴─────────────────────────────────┘
```

### 주요 기능

1. **시나리오 파라미터 입력**
   - 분양시기 지연, 분양률, 공사비 변동, 금리 변동
   - 실시간 유효성 검증

2. **시뮬레이션 실행**
   - API 호출로 36개월 재무 예측 생성
   - Chart.js로 시각화

3. **AI 권고사항**
   - CRITICAL/WARNING/SUCCESS 3단계 알림
   - 현금흐름, 수익성, 분양, 공사비, 금융비용 카테고리

4. **시나리오 비교**
   - 다중 시나리오 동시 비교
   - 최고/최저 지표 자동 식별

---

## 2. 재무 모델 페이지 (FinancialModelPage)

**경로**: `/financial/:projectId`

### 페이지 구조

```
┌─────────────────────────────────────────────────────────────┐
│ 💼 재무 모델                                 현재 버전: v3  │
│ 프로젝트의 재무 예측 모델을 관리합니다                       │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ ⚙️ 모델 파라미터                                            │
├──────────┬──────────┬──────────┬──────────┬──────────────┤
│ 분양률   │ 분양시작 │ 공사지연 │ 비용인플 │ 금리         │
│ (%)      │ (개월)   │ (개월)   │ (%)      │ (%)          │
│ [80]     │ [6]      │ [0]      │ [0.0]    │ [5.5]        │
├──────────────────────────────────────────────────────────────┤
│ [계산] [새 버전으로 저장]                                    │
└─────────────────────────────────────────────────────────────┘

🔔 미리보기 모드
계산 결과를 확인 후 저장하세요. [취소]

┌──────┬──────┬──────┬──────┬──────┐
│ 총수익│ 총비용│ 예상이│ ROI  │ 최저 │
│      │      │ 익    │      │ 현금 │
│ 500억│ 420억│ 80억 │15.2% │-50억 │
│      │      │      │      │12개월│
└──────┴──────┴──────┴──────┴──────┘

┌─────────────────────────────────────────────────────────────┐
│ 📊 36개월 재무 전망                                          │
│                                                              │
│  월수익 ─────  월비용 ─────                                │
│  누적현금 ───── 순현금흐름 - - - -                        │
│                                                              │
│     ╱─────────                                             │
│    ╱                                                        │
│   ╱      ╲                                                 │
│  ╱        ╲─────                                           │
│ ╱                                                          │
│─────────────────────────────────────────────────────────── │
│ 1월  6월  12월  18월  24월  30월  36월                      │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ 📋 월별 상세 내역                                            │
├────┬────────┬────────┬──────┬──────────┬────────────────┤
│ 월 │ 수익   │ 비용   │ 이자 │ 순현금   │ 누적현금       │
├────┼────────┼────────┼──────┼──────────┼────────────────┤
│ 1월│  0억   │ 3.3억  │  0   │ -3.3억   │ -3.3억         │
│ 6월│  0억   │ 3.3억  │ 0.1억│ -3.4억   │ -20.4억        │
│ 7월│ 5.6억  │ 3.3억  │ 0.1억│ +2.2억   │ -18.2억        │
│...│        │        │      │          │                │
│36월│ 5.6억  │ 3.3억  │  0   │ +2.3억   │ +80억          │
└────┴────────┴────────┴──────┴──────────┴────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ 📚 버전 히스토리                                             │
├─────────────────────────────────────────────────────────────┤
│ 버전 3 [활성] 2025-11-16 15:30                              │
│ 분양률: 80% │ 분양시작: 6개월 │ 금리: 5.5%                 │
│ ROI: 15.2% │ 예상이익: 80억                                │
├─────────────────────────────────────────────────────────────┤
│ 버전 2         2025-11-15 10:20                             │
│ 분양률: 75% │ 분양시작: 6개월 │ 금리: 5.0%                 │
│ ROI: 14.1% │ 예상이익: 72억                                │
├─────────────────────────────────────────────────────────────┤
│ 버전 1         2025-11-10 09:00                             │
│ 분양률: 70% │ 분양시작: 8개월 │ 금리: 4.5%                 │
│ ROI: 12.5% │ 예상이익: 65억                                │
└─────────────────────────────────────────────────────────────┘
```

### 주요 기능

1. **파라미터 설정**
   - 5가지 핵심 재무 변수 조정
   - 실시간 검증

2. **미리보기 모드**
   - 저장 전 계산 결과 확인
   - 노란색 배너로 미저장 상태 표시

3. **버전 관리**
   - 자동 버전 증가
   - 이전 버전 불러오기
   - 활성 모델 표시

4. **상세 월별 분석**
   - 36개월 전체 내역 테이블
   - 현금부족 월 강조 (빨간 배경)

---

## 3. 현금 흐름 관리 페이지 (CashFlowPage)

**경로**: `/cashflow/:projectId`

### 페이지 구조

```
┌─────────────────────────────────────────────────────────────┐
│ 💵 현금 흐름 관리              [Excel 내보내기] [+ 항목 추가]│
│ 프로젝트의 현금 유입/유출을 관리합니다                       │
└─────────────────────────────────────────────────────────────┘

┌──────────────────┬──────────────────┬──────────────────────┐
│ 계획 순현금      │ 실제 순현금      │ 차이 (실제-계획)     │
│ +180억원         │ +165억원         │ -15억원              │
│ 유입: 500억      │ 유입: 480억      │ 계획보다 부족        │
│ 유출: 320억      │ 유출: 315억      │                      │
└──────────────────┴──────────────────┴──────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ ➕ 새 항목 추가                                              │
├──────────────┬──────────────────────────────────────────────┤
│ 유형 *       │ [유입 ▼]                                     │
│ 카테고리 *   │ [분양수입 ▼]                                 │
│ 설명 *       │ [1차 분양 계약금 입금                    ]  │
├──────────────┼──────────────┬───────────────────────────────┤
│ 계획 금액 *  │ 실제 금액    │                               │
│ [50000000000]│ [48000000000]│                               │
├──────────────┼──────────────┴───────────────────────────────┤
│ 계획 일자 *  │ 실제 일자                                    │
│ [2025-12-01] │ [2025-12-05]                                 │
├──────────────┴──────────────────────────────────────────────┤
│ ☑ 반복 항목  [12] 개월                                      │
├──────────────────────────────────────────────────────────────┤
│ [추가] [취소]                                                │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ 🔍 필터                                                      │
│ 유형: [전체 ▼]  카테고리: [전체 ▼]        총 15개 항목     │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ 📊 현금흐름 항목 목록                                        │
├──────┬────────┬─────────┬───────┬───────┬──────┬──────┬───┤
│ 유형 │ 카테고 │ 설명    │ 계획  │ 실제  │ 계획 │ 실제 │반복│
│      │ 리     │         │ 금액  │ 금액  │ 일자 │ 일자 │   │
├──────┼────────┼─────────┼───────┼───────┼──────┼──────┼───┤
│ 유입 │ 분양   │ 1차 분양│ 500억 │ 480억 │12/01 │12/05 │ - │
│      │ 수입   │ 계약금  │       │       │      │      │   │
├──────┼────────┼─────────┼───────┼───────┼──────┼──────┼───┤
│ 유입 │ 대출   │ 건설    │ 200억 │ 200억 │11/20 │11/20 │ - │
│      │        │ 자금    │       │       │      │      │   │
├──────┼────────┼─────────┼───────┼───────┼──────┼──────┼───┤
│ 유출 │ 공사비 │ 골조    │ 150억 │ 145억 │01/15 │01/18 │12개│
│      │        │ 공사    │       │       │      │      │월 │
├──────┼────────┼─────────┼───────┼───────┼──────┼──────┼───┤
│ 유출 │ 인건비 │ 현장    │ 3억   │ 3.2억 │매월  │매월  │12개│
│      │        │ 관리비  │       │       │      │      │월 │
└──────┴────────┴─────────┴───────┴───────┴──────┴──────┴───┘
                                                    [수정]
```

### 주요 기능

1. **요약 카드**
   - 계획 vs 실제 현금흐름
   - 유입/유출 분리 표시
   - 차이 자동 계산

2. **항목 관리**
   - CRUD 기능 (생성/읽기/수정/삭제)
   - 유형별 카테고리 프리셋
   - 반복 항목 지원

3. **필터링**
   - 유형별 (유입/유출)
   - 카테고리별
   - 실시간 필터링

4. **Excel 내보내기**
   - xlsx 형식 다운로드
   - 모든 항목 포함

---

## 4. 예산 계산기 페이지 (BudgetCalculatorPage)

**경로**: `/calculator/:projectId`

### 페이지 구조

```
┌─────────────────────────────────────────────────────────────┐
│ 🧮 예산 계산기                [템플릿 저장] [전체 재계산]    │
│ 수식 기반 예산 계산 및 관리                                  │
└─────────────────────────────────────────────────────────────┘

┌──────────────┬────────────────────────┬─────────────────────┐
│ 📚 수식 목록 │ 🔢 계산기              │ 📊 프로젝트 변수    │
│              │                        │                     │
│ 카테고리:    │ 인건비 계산            │ totalUnits          │
│ [전체 ▼]     │ 공사비 > 인건비        │ 전체 세대수         │
│              │                        │ 120                 │
│              │ hours * hourlyRate *   │                     │
│ ─────────── │ workers                 │ avgPricePerUnit     │
│ 인건비 계산  │                        │ 평균 분양가/세대    │
│ 공사비       │ 🔧 변수 입력           │ 35000000000        │
│              │                        │                     │
│ 총 분양수입  │ hours (시간)           │ salesRate           │
│ 분양수입     │ [160]                  │ 목표 분양률         │
│              │                        │ 80                  │
│ 토지비 계산  │ hourlyRate (원/시간)   │                     │
│ 공사비       │ [50000]                │ landArea            │
│              │                        │ 대지면적(㎡)        │
│ 설계비용     │ workers (명)           │ 3500.00            │
│ 설계비       │ [15]                   │                     │
│              │                        │ constructionCost    │
│ ...          │ [계산 실행]            │ 기본 공사비         │
│              │                        │ 25000000000        │
│              │ ✅ 계산 결과           │                     │
│              │ ₩120,000,000          │ ...                 │
│              │ hours*hourlyRate*...   │                     │
└──────────────┴────────────────────────┴─────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ 🕐 계산 이력                                                 │
├─────────────────────────────────────────────────────────────┤
│ 골조공사                                  ₩15,000,000,000   │
│ 2025-11-16 15:30                                            │
├─────────────────────────────────────────────────────────────┤
│ 인건비                                    ₩120,000,000      │
│ 2025-11-16 15:28                                            │
├─────────────────────────────────────────────────────────────┤
│ 설계비용                                  ₩800,000,000      │
│ 2025-11-16 14:20                                            │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ 📦 예산 템플릿                                               │
├──────────────────┬──────────────────┬────────────────────────┤
│ 표준 아파트      │ 소형 빌라        │ 상업용 건물            │
│ 120세대 이상 표준│ 50세대 미만 소형 │ 상가/오피스텔          │
│ [템플릿 적용]    │ [템플릿 적용]    │ [템플릿 적용]          │
└──────────────────┴──────────────────┴────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ 💼 상세 예산 현황                                            │
│                                                              │
│ 총 예산: ₩50,000,000,000                                    │
│ 집행 금액: ₩32,500,000,000                                  │
│ 잔여 예산: ₩17,500,000,000                                  │
├─────────┬─────────┬─────────┬─────────┬─────────┬─────────┤
│ 항목    │ 예산    │ 집행    │ 잔여    │ 진행률  │ 수식    │
├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ 토지비  │ 15,000억│ 15,000억│   0억   │ ████100%│ 수동    │
├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ 골조공사│ 20,000억│ 12,000억│ 8,000억 │ ███▫ 60%│ 계산됨  │
├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ 인건비  │  3,000억│  2,500억│   500억 │ ███▫ 83%│ 계산됨  │
├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ 설계비  │  2,000억│  2,000억│     0억 │ ████100%│ 계산됨  │
├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ 마케팅  │  1,000억│  1,000억│     0억 │ ████100%│ 수동    │
└─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘
```

### 주요 기능

1. **수식 라이브러리**
   - 14개 사전 정의 수식
   - 카테고리별 분류
   - 선택 시 즉시 적용

2. **변수 관리**
   - 프로젝트 변수 자동 로드
   - 실시간 값 조정
   - 단위 표시

3. **계산 엔진**
   - JavaScript 기반 수식 평가
   - 실시간 결과 표시
   - 계산 이력 저장

4. **템플릿 시스템**
   - 예산 구조 저장
   - 다른 프로젝트 적용
   - 표준 템플릿 제공

5. **상세 예산 현황**
   - 전체 예산 항목 표시
   - 진행률 프로그레스 바
   - 수식/수동 구분 표시

---

## 공통 UI 패턴

### 1. 카드 스타일

```
┌─────────────────────────────────────┐
│ 제목                                │
│ ─────────────────────────────────── │
│ 내용...                             │
│                                     │
│ [버튼]                              │
└─────────────────────────────────────┘

- 배경: #FFFFFF
- 테두리: 1px solid #E7E5E4
- 둥근 모서리: 12px
- 그림자: 0 1px 3px rgba(0,0,0,0.04)
```

### 2. 입력 필드

```
┌─────────────────────────────────────┐
│ [입력값                         ]  │
└─────────────────────────────────────┘

- 배경: #FAFAF9
- 테두리: 1px solid #E7E5E4
- 포커스: 2px ring #D6D3D1
- 둥근 모서리: 8px
- 패딩: 12px
```

### 3. 버튼 스타일

**주 버튼 (Primary)**
```
┌─────────────┐
│ 실행하기    │
└─────────────┘

- 배경: #1C1917 (stone-900)
- 텍스트: #FFFFFF
- 호버: #292524 (stone-800)
```

**보조 버튼 (Secondary)**
```
┌─────────────┐
│ 취소        │
└─────────────┘

- 배경: #FFFFFF
- 테두리: 1px solid #D6D3D1
- 텍스트: #44403C (stone-700)
- 호버: #F5F5F4 (stone-50)
```

### 4. 배지 (Badge)

```
[유입]  [유출]  [WARNING]  [SUCCESS]

- 유입: bg-emerald-100, text-emerald-700
- 유출: bg-red-100, text-red-700
- WARNING: bg-amber-100, text-amber-700
- SUCCESS: bg-emerald-100, text-emerald-700
- CRITICAL: bg-red-100, text-red-700
```

### 5. 테이블

```
┌────────────────────────────────────┐
│ 헤더1    │ 헤더2    │ 헤더3       │
├──────────┼──────────┼─────────────┤
│ 데이터1  │ 데이터2  │ 데이터3     │
│ 데이터1  │ 데이터2  │ 데이터3     │
└────────────────────────────────────┘

- 헤더: bg-stone-50, font-semibold
- 행: hover:bg-stone-50
- 테두리: border-stone-200
```

---

## 반응형 브레이크포인트

- **모바일**: < 768px (1단 레이아웃)
- **태블릿**: 768px ~ 1024px (2단 레이아웃)
- **데스크톱**: > 1024px (3-4단 레이아웃)

---

## 접근성

- **컬러 대비**: WCAG AA 기준 준수
- **포커스 표시**: 모든 인터랙티브 요소
- **키보드 네비게이션**: Tab, Enter, Escape
- **스크린 리더**: ARIA 레이블 제공

---

## 성능 최적화

- **지연 로딩**: Chart.js, XLSX 동적 import
- **메모이제이션**: React Query 캐싱
- **번들 최적화**: 코드 분할
- **이미지**: 없음 (타이포그래피 중심)

---

이 Mock-up 문서는 실제 구현된 페이지의 시각적 설계를 설명합니다.
모든 페이지는 TypeScript, React, TanStack Query, Chart.js를 사용하여 구현되었습니다.
